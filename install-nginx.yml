---
- name: Install nginx
  hosts: all
  become: true
  vars:
    nginx_action: 'install'
  pre_tasks:

    - name: insure vars are well transmitted
      assert:
        that:
          - nginx_action is defined and nginx_action != ""
  tasks:
    - include_role:
        name: role_install_nginx
      vars:
        state: "{{ nginx_action }}"

  post_tasks:
    debug:
      msg: "NGINX WAS SUCCESSFULLY {{ state | upper }}ED"